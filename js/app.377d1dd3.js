(function(e){function t(t){for(var r,c,s=t[0],i=t[1],u=t[2],d=0,f=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(t);while(f.length)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var i=n[s];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={app:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},4678:function(e,t,n){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="4678"},"6dd8":function(e,t,n){},bbbe:function(e,t,n){"use strict";var r=n("6dd8"),a=n.n(r);a.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-app-bar",{staticClass:"white--text",attrs:{app:"",color:"primary"}},[n("v-toolbar-title",[e._v("ToDo Application")])],1),n("v-content",[n("v-container",{attrs:{fluid:""}},[e.showRouter?n("router-view"):e._e()],1)],1),n("v-footer",{attrs:{app:""}},[n("span",[e._v("-")])]),n("v-overlay",{attrs:{value:e.loading,"z-index":"9999"}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-dialog",{attrs:{"max-width":"900",persistent:""},model:{value:e.needLogin,callback:function(t){e.needLogin=t},expression:"needLogin"}},[n("login")],1)],1)},o=[],c=n("750b"),s=(n("a4d3"),n("4de4"),n("7db0"),n("d81d"),n("4e827"),n("e439"),n("dbb4"),n("b64b"),n("4d63"),n("ac1f"),n("25f0"),n("5319"),n("1276"),n("498a"),n("159b"),n("ade3")),i=(n("96cf"),n("1da1")),u=n("d4ec"),l=n("bee2"),d=n("9069"),f=d["c"].initializeDefaultAppClient("todo-pkgua"),p=f.getServiceClient(d["b"].factory,"todo-stitch-service").db("my-todo"),v=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=d["c"].defaultAppClient.auth.getProviderClient(d["e"].factory),e.next=3,r.registerWithEmail(t,n);case 3:console.info("[MongoDB Stitch] User Created Success");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();window.createUser=v;var b=n("c1df"),h=n.n(b);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(s["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=p.collection("todos"),g=function(e){y.loading.value=e},k=function(e){e instanceof d["d"]&&"MustAuthenticateFirst"==e.errorCodeName&&(y.needLogin.value=!0)},x=function(){function e(){Object(u["a"])(this,e)}return Object(l["a"])(e,null,[{key:"index",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r,a,o,c,i,u,l,d,f,p,v,b,h,m,x,y,O,_=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=_.length>0&&void 0!==_[0]?_[0]:{},e.prev=1,g(!0),n=t.pageNo,r=void 0===n?1:n,a=t.pageSize,o=void 0===a?20:a,c=t.q,i=void 0===c?"":c,u=t.sort,l=void 0===u?"-date rank":u,d=t.from,f=t.to,p={},v=[],i&&(b="title,desc,type",h=new RegExp(i,"i"),b.split(",").map((function(e){return e.trim()})).map((function(e){return v.push(Object(s["a"])({},e,h))}))),v.length&&(p.$or=v),d&&(p.date=p.date||{},p.date.$gte=d),f&&(p.date=p.date||{},p.date.$lte=f),m=l.split(" ").filter(Boolean).reduce((function(e,t){return e[t.replace("-","")]=/-/.test(t)?-1:1,e}),{}),e.next=13,w.find(p,{sort:m,limit:+o}).asArray();case 13:return x=e.sent,e.next=16,w.count(p);case 16:return y=e.sent,O={data:x.map((function(e){return j({},e,{_id:e._id+""})})),page:{pageNo:+r,pageSize:+o,totalPage:Math.ceil(y/o),total:y}},console.info(O),e.abrupt("return",O);case 22:throw e.prev=22,e.t0=e["catch"](1),k(e.t0),e.t0;case 26:return e.prev=26,g(!1),e.finish(26);case 29:case"end":return e.stop()}}),e,null,[[1,22,26,29]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"get",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,w.findOne({_id:new d["a"].ObjectId(t)});case 4:return n=e.sent,n&&(n._id=n._id+""),console.info(n),e.abrupt("return",n);case 10:throw e.prev=10,e.t0=e["catch"](0),k(e.t0),e.t0;case 14:return e.prev=14,g(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"insert",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t,n,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:{},e.prev=1,g(!0),t.owner_id=f.auth.user.id,t.createdAt=new Date,t.updatedAt=new Date,t.title=t.title||"Title",t.date=t.date||h()().startOf("day").toDate(),t.rank=1,e.next=11,w.insertOne(t);case 11:return n=e.sent,n&&n.insertedId&&(n.insertedId=n.insertedId+""),console.info(n),e.abrupt("return",n);case 17:throw e.prev=17,e.t0=e["catch"](1),k(e.t0),e.t0;case 21:return e.prev=21,g(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[1,17,21,24]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"delete",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,w.deleteOne({_id:new d["a"].ObjectId(t)});case 4:return n=e.sent,console.info(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e["catch"](0),k(e.t0),e.t0;case 13:return e.prev=13,g(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"update",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),n.updatedAt=new Date,e.next=5,w.findOneAndUpdate({_id:new d["a"].ObjectId(t)},{$set:n});case 5:return r=e.sent,r&&(r._id=r._id+""),console.info(r),e.abrupt("return",r);case 11:throw e.prev=11,e.t0=e["catch"](0),k(e.t0),e.t0;case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])})));function t(t,n){return e.apply(this,arguments)}return t}()}]),e}(),y=function(){function e(){Object(u["a"])(this,e)}return Object(l["a"])(e,null,[{key:"checkLogin",value:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"auth",value:function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n,r){var a,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return g(!0),a=new d["f"](n,r),t.next=4,f.auth.loginWithCredential(a);case 4:o=t.sent,e.needLogin.value=!1,console.info("[MongoDB Stitch] Auth Success",o),setTimeout((function(){}),0),g(!1);case 9:case"end":return t.stop()}}),t)})));function n(e,n){return t.apply(this,arguments)}return n}()},{key:"init",value:function(){e.loading=Object(c["e"])(!1),e.needLogin=Object(c["e"])(!1)}}]),e}();y.Todo=x,y.loading=null,y.needLogin=null,window.Api=y;var O=y,_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[n("v-card",[n("v-card-title",[e._v("Login")]),n("v-card-text",[n("v-text-field",{attrs:{label:"username",required:"",rules:[function(e){return!!e||"username is required"}]},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("v-text-field",{attrs:{type:"password",label:"password",required:"",rules:[function(e){return!!e||"password is required"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",type:"submit"}},[e._v("Login")])],1)],1)],1)},D=[],R=Object(c["b"])({setup:function(){var e=Object(c["e"])(""),t=Object(c["e"])(""),n=function(){var n=Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,O.auth(e.value,t.value);case 2:n.sent;case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return{username:e,password:t,login:n}}}),T=R,V=n("2877"),C=n("6544"),P=n.n(C),z=n("8336"),S=n("b0af"),A=n("99d9"),E=n("4bd4"),L=n("2fa4"),M=n("8654"),Y=Object(V["a"])(T,_,D,!1,null,null,null),$=Y.exports;P()(Y,{VBtn:z["a"],VCard:S["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VForm:E["a"],VSpacer:L["a"],VTextField:M["a"]});var F=Object(c["b"])({components:{Login:$},setup:function(){var e=Object(c["e"])(!0),t=O.loading,n=O.needLogin;return Object(c["f"])(t,(function(e){return console.info("loading",e)})),Object(c["f"])(n,(function(t,n){console.info(t,n),!1===t&&!0===n&&(e.value=!1,setTimeout((function(){e.value=!0}),0))})),{loading:t,needLogin:n,showRouter:e}}}),I=F,q=n("7496"),N=n("40dc"),W=n("a523"),B=n("a75b"),U=n("169a"),G=n("553a"),J=n("a797"),H=n("490a"),K=n("2a7f"),Q=Object(V["a"])(I,a,o,!1,null,null,null),X=Q.exports;P()(Q,{VApp:q["a"],VAppBar:N["a"],VContainer:W["a"],VContent:B["a"],VDialog:U["a"],VFooter:G["a"],VOverlay:J["a"],VProgressCircular:H["a"],VToolbarTitle:K["a"]});var Z=n("f309"),ee=n("8c4f"),te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-container",{staticClass:"todo-list pa-0  pa-lg-5",attrs:{fluid:""}},[n("v-row",[n("v-col",{staticClass:"d-none d-md-block flex-grow-0"},[n("v-card",{attrs:{outlined:"",tile:""}},[n("v-card-title",[e._v("Options")]),n("v-card-text",[n("v-date-picker",{attrs:{value:e._f("date")(e.selectedDate),"show-week":!0},on:{change:e.handleDatePicker}})],1)],1)],1),n("v-col",[n("v-card",[n("v-container",{staticClass:"d-flex justify-space-between"},[n("v-btn",{staticClass:"d-none d-sm-block",attrs:{outlined:"",color:"secondary"},on:{click:function(t){return e.goPrevWeek()}}},[e._v("Prev")]),n("v-btn",{staticClass:"d-sm-none",attrs:{fab:"","x-small":"",text:"",color:"secondary"},on:{click:function(t){return e.goPrevWeek()}}},[n("v-icon",[e._v("mdi-page-first")])],1),n("v-btn",{staticClass:"px-1",attrs:{text:""},on:{click:function(t){e.$vuetify.breakpoint.smAndDown&&(e.showDatePicker=!0)}}},[e._v(e._s(e._f("date")(e.from))+" -- "+e._s(e._f("date")(e.to)))]),n("v-btn",{staticClass:"d-none d-sm-block",attrs:{outlined:"",color:"secondary"},on:{click:function(t){return e.goNextWeek()}}},[e._v("Next")]),n("v-btn",{staticClass:"d-sm-none",attrs:{fab:"","x-small":"",text:"",color:"secondary"},on:{click:function(t){return e.goNextWeek()}}},[n("v-icon",[e._v("mdi-page-last")])],1)],1),e._l(e.groupTodos,(function(t,r){return n("v-list",{key:r,attrs:{"three-line":""}},[n("v-subheader",[n("span",[e._v(e._s(e.dateTitle(r)))]),n("v-btn",{staticClass:"ml-2",attrs:{fab:"",text:"","x-small":"",color:"secondary"},on:{click:function(t){return e.showAddTodo(r)}}},[n("v-icon",[e._v("mdi-plus")])],1)],1),e._l(t,(function(t,r){return n("v-list-item",{key:r},[n("v-list-item-action",{staticClass:"mt-5"},[n("v-checkbox",{on:{change:function(n){return e.updateTodo(t)}},model:{value:t.isFinish,callback:function(n){e.$set(t,"isFinish",n)},expression:"todo.isFinish"}})],1),n("v-list-item-content",{staticClass:"mt-2"},[n("v-list-item-title",[e._v(e._s(t.title))]),n("v-list-item-subtitle",[n("pre",[e._v(e._s(t.desc))])])],1),n("v-list-item-action",[n("v-flex",[n("v-btn",{staticClass:"ml-2",attrs:{fab:"",text:"","x-small":"",color:"secondary"},on:{click:function(n){return e.showEditTodo(t)}}},[n("v-icon",[e._v("mdi-pencil")])],1),n("v-btn",{staticClass:"ml-2",attrs:{fab:"",text:"","x-small":"",color:"error"},on:{click:function(n){return e.showDeleteTodo(t)}}},[n("v-icon",[e._v("mdi-delete")])],1)],1)],1)],1)}))],2)}))],2)],1)],1),n("v-dialog",{attrs:{"max-width":"320"},model:{value:e.showDelete,callback:function(t){e.showDelete=t},expression:"showDelete"}},[n("v-card",[n("v-card-title",[e._v("Confirm Delete?")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.showDelete=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"accent",text:""},on:{click:function(t){e.showDelete=!1,e.deleteTodo()}}},[e._v("Confirm")])],1)],1)],1),n("v-dialog",{attrs:{"max-width":"900"},model:{value:e.showEdit,callback:function(t){e.showEdit=t},expression:"showEdit"}},[e.showEdit?n("todo-edit",{attrs:{id:e.selectedTodo&&e.selectedTodo._id,date:e.selectedDate},on:{saved:e.handleSaved,cancel:function(t){e.showEdit=!1}}}):e._e()],1),n("v-dialog",{attrs:{"max-width":"320","content-class":"ma-0"},model:{value:e.showDatePicker,callback:function(t){e.showDatePicker=t},expression:"showDatePicker"}},[n("v-date-picker",{attrs:{value:e._f("date")(e.selectedDate),"show-week":!0},on:{change:e.handleDatePicker}})],1)],1)},ne=[],re=(n("d3b7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-form",{ref:"form"},[n("v-card",[n("v-card-title",[e._v(e._s(e.isAdd?"Add Todo":"Edit Todo"))]),n("v-card-text",[n("v-text-field",{attrs:{label:"title",required:"",rules:[function(e){return!!e||"Title is required"}]},model:{value:e.todo.title,callback:function(t){e.$set(e.todo,"title",t)},expression:"todo.title"}}),n("v-text-field",{attrs:{label:"type"},model:{value:e.todo.type,callback:function(t){e.$set(e.todo,"type",t)},expression:"todo.type"}}),n("v-dialog",{ref:"dateDialog",attrs:{"max-width":"320","content-class":"ma-0"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[n("v-text-field",e._g({attrs:{value:e._f("date")(e.todo.date),label:"date",readonly:""}},r))]}}])},[n("v-date-picker",{attrs:{value:e._f("date")(e.todo.date),scrollable:""},on:{change:function(t){e.handleDatePicker(t),e.$refs.dateDialog.save()}}})],1),n("v-textarea",{attrs:{label:"desc"},model:{value:e.todo.desc,callback:function(t){e.$set(e.todo,"desc",t)},expression:"todo.desc"}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.cancel}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.isAdd?e.addTodo():e.updateTodo()}}},[e._v("Save")])],1)],1)],1)}),ae=[],oe=Object(c["b"])({setup:function(e,t){console.info(t);var n=Object(c["e"])(t.attrs.id),r=Object(c["e"])(t.attrs.date),a=Object(c["e"])(t.attrs.modal),o=Object(c["e"])({}),s=Object(c["a"])((function(){return!n.value||"new"==n.value||!d["a"].ObjectID.isValid(n.value)})),u=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.info(n.value),!s.value){e.next=5;break}o.value={date:r.value},e.next=8;break;case 5:return e.next=7,O.Todo.get(n.value);case 7:o.value=e.sent;case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){var r,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t["refs"]["form"],c=r.validate(),!c){e.next=7;break}return e.next=5,O.Todo.insert(o.value);case 5:!a&&Re.push("/todos"),t.emit("saved");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t["refs"]["form"],r=n.validate(),!r){e.next=7;break}return e.next=5,O.Todo.update(o.value._id,{title:o.value.title,desc:o.value.desc,type:o.value.type,date:o.value.date});case 5:!a&&Re.push("/todos"),t.emit("saved");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:!a&&Re.push("/todos"),t.emit("cancel");case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value.date=h()(t).toDate();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c["f"])(n,(function(e){console.info("id changed"),u()})),Object(c["d"])((function(){return console.info("Todo Edit Mounted")})),{id:n,date:r,todo:o,isAdd:s,addTodo:l,updateTodo:f,cancel:p,handleDatePicker:v}}}),ce=oe,se=n("2e4b"),ie=n("a844"),ue=Object(V["a"])(ce,re,ae,!1,null,null,null),le=ue.exports;P()(ue,{VBtn:z["a"],VCard:S["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VDatePicker:se["a"],VDialog:U["a"],VForm:E["a"],VSpacer:L["a"],VTextField:M["a"],VTextarea:ie["a"]});var de=Object(c["b"])({components:{TodoEdit:le},setup:function(){var e=Object(c["e"])(!1),t=Object(c["e"])(!1),n=Object(c["e"])(!1),r=Object(c["e"])(h()().startOf("week").toDate()),a=Object(c["e"])(h()().endOf("week").toDate()),o=Object(c["e"])([]),s=Object(c["e"])(),u=Object(c["e"])(),l=Object(c["a"])((function(){for(var e={},t=h()(r.value).clone();h()(a.value).diff(t)>0;t.add(1,"day"))e[t.format("YYYY-MM-DD")]=[];return o.value.map((function(t){var n=h()(t.date).format("YYYY-MM-DD");e[n]&&e[n].push(t)})),e})),d=Object(c["a"])((function(){return function(e){return h()(e).locale("zh-cn").format("YYYY-MM-DD ddd")}})),f=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u.value=h()(t).toDate(),n.value=!1;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=!1,g();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.value=h()(r.value).add(-1,"week").toDate(),a.value=h()(a.value).add(-1,"week").toDate();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.value=h()(r.value).add(1,"week").toDate(),a.value=h()(a.value).add(1,"week").toDate();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=!0,u.value=h()(n).toDate(),s.value=void 0;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=!0,u.value=void 0,s.value=n;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:s.value=n,e.value=!0;case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),g=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.Todo.index({from:r.value,to:a.value,pageSize:0});case 2:t=e.sent,o.value=t.data;case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O.Todo.update(t._id,{isFinish:t.isFinish});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.value,e.next=3,O.Todo.delete(t._id);case 3:g();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c["f"])(Object(c["a"])((function(){return r.value.toString()+a.value.toString()})),Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:g();case 1:case"end":return e.stop()}}),e)})))),Object(c["f"])(u,(function(e){r.value=h()(e).startOf("week").toDate(),a.value=h()(e).endOf("week").toDate()})),Object(c["d"])(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.info("ToDo List Mounted");case 1:case"end":return e.stop()}}),e)})))),{showDelete:e,showEdit:t,showDatePicker:n,from:r,to:a,todos:o,selectedTodo:s,selectedDate:u,groupTodos:l,dateTitle:d,goPrevWeek:v,goNextWeek:b,addTodo:k,updateTodo:x,deleteTodo:y,showAddTodo:m,showDeleteTodo:w,showEditTodo:j,handleDatePicker:f,handleSaved:p}}}),fe=de,pe=(n("bbbe"),n("ac7c")),ve=n("62ad"),be=n("0e8f"),he=n("132d"),me=n("8860"),je=n("da13"),we=n("1800"),ge=n("5d23"),ke=n("0fd9"),xe=n("e0c7"),ye=Object(V["a"])(fe,te,ne,!1,null,null,null),Oe=ye.exports;P()(ye,{VBtn:z["a"],VCard:S["a"],VCardActions:A["a"],VCardText:A["b"],VCardTitle:A["c"],VCheckbox:pe["a"],VCol:ve["a"],VContainer:W["a"],VDatePicker:se["a"],VDialog:U["a"],VFlex:be["a"],VIcon:he["a"],VList:me["a"],VListItem:je["a"],VListItemAction:we["a"],VListItemContent:ge["a"],VListItemSubtitle:ge["b"],VListItemTitle:ge["c"],VRow:ke["a"],VSpacer:L["a"],VSubheader:xe["a"]}),r["a"].use(ee["a"]);var _e=[{path:"/",name:"home",redirect:"/todos"},{path:"/todos",name:"todos",component:Oe},{path:"/todos/:id",name:"todo",component:le,props:!0}],De=new ee["a"]({mode:"history",base:"/",routes:_e}),Re=De;r["a"].filter("date",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"YYYY-MM-DD";return e?h()(e).format(t):""})),r["a"].use(Z["a"]),r["a"].use(c["c"]),O.init(),r["a"].config.productionTip=!1;var Te=new Z["a"]({theme:{themes:{light:{primary:"#9c27b0",secondary:"#3f51b5",accent:"#f44336",error:"#e91e63",warning:"#ffc107",info:"#2196f3",success:"#4caf50"}}}});new r["a"]({router:Re,vuetify:Te,render:function(e){return e(X)}}).$mount("#app")}});
//# sourceMappingURL=app.377d1dd3.js.map